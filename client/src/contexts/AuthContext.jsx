import p_img1 from "../components/travel/images/shop/women-top.jpg";
import p_img2_1 from "../components/travel/images/shop/kid1.jpg";
import p_img2_2 from "../components/travel/images/shop/kid1.1.jpg";
import p_img2_3 from "../components/travel/images/shop/kid1.2.jpg";
import p_img2_4 from "../components/travel/images/shop/kid1.3.jpg";
import p_img3 from "../components/travel/images/shop/kid2.jpg";
import p_img4 from "../components/travel/images/shop/men-t-2.jpg";
import p_img5 from "../components/travel/images/shop/w-top2.jpg";
import p_img6 from "../components/travel/images/shop/kid3.jpg";
import p_img7 from "../components/travel/images/shop/men-t-3.jpg";
import p_img8 from "../components/travel/images/shop/men-t-4.jpg";
import p_img9 from "../components/travel/images/shop/kid4.jpg";
import p_img10 from "../components/travel/images/shop/men-t-5.jpg";
import p_img11 from "../components/travel/images/shop/men-t-6.jpg";
import p_img12 from "../components/travel/images/shop/men-t-7.jpg";
import p_img13 from "../components/travel/images/shop/w-top3.jpg";
import p_img14 from "../components/travel/images/shop/kid5.jpg";
import p_img15 from "../components/travel/images/shop/men-t-8.jpg";
import p_img16 from "../components/travel/images/shop/kid6.jpg";
import p_img17 from "../components/travel/images/shop/men-t-9.jpg";
import p_img18 from "../components/travel/images/shop/kid7.jpg";
import p_img19 from "../components/travel/images/shop/kid8.jpg";
import p_img20 from "../components/travel/images/shop/w-top4.jpg";
import p_img21 from "../components/travel/images/shop/w-top5.jpg";
import p_img22 from "../components/travel/images/shop/w-top6.jpg";
import p_img23 from "../components/travel/images/shop/kid2.jpg";
import p_img24 from "../components/travel/images/shop/kid9.jpg";
import p_img25 from "../components/travel/images/shop/kid10.jpg";
import p_img26 from "../components/travel/images/shop/w-top7.jpg";
import p_img27 from "../components/travel/images/shop/kid2.jpg";
import p_img28 from "../components/travel/images/shop/men-t-10.jpg";
import p_img29 from "../components/travel/images/shop/w-top8.jpg";
import cot1 from "../components/travel/images/shop/cot1.jpg";
import cot2 from "../components/travel/images/shop/cot2.jpg";
import leather1 from "../components/travel/images/shop/leather1.jpg";
import leather2 from "../components/travel/images/shop/leather2.jpg";
import peti1 from "../components/travel/images/shop/peti1.jpg";
import plus1 from "../components/travel/images/shop/plus1.jpg";
import silk1 from "../components/travel/images/shop/silk1.jpg";
import plus2 from "../components/travel/images/shop/plus2.jpg";
import silk2 from "../components/travel/images/shop/silk2.jpg";
import suede1 from "../components/travel/images/shop/suede1.jpg";
import suede2 from "../components/travel/images/shop/suede2.jpg";

import razorpay_logo from "../components/travel/images/shop/razorpay_logo.png";
import stripe_logo from "../components/travel/images/shop/stripe_logo.png";

const assets = {
    razorpay_logo,
    stripe_logo,
}

const data = [
    {
        _id: "a",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 100,
        image: [p_img1],
        category: "Women",
        sizeCategory: "Petite",
        material: "Cotton"
    },
    {
        _id: "ab",
        name: "Kids Casual Fashion Round Neck Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 200,
        image: [p_img2_1, p_img2_2, p_img2_3, p_img2_4],
        category: "Kids",
        sizeCategory: "Petite",
        material: "Cotton"
 },
    {
        _id: "ac",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 220,
        image: [p_img3],
        category: "Kids",
        sizeCategory: "Juniors",
        material: "Cotton"
 },
    {
        _id: "ad",
        name: "Men Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 110,
        image: [p_img4],
        category: "Men",
        sizeCategory: "Petite",
        material: "Cotton"
  },
    {
        _id: "ae",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 130,
        image: [p_img5],
        category: "Women", 
        sizeCategory: "Petite",
        material: "Cotton"
     },
    {
        _id: "af",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 140,
        image: [p_img6],
        category: "Kids",
        sizeCategory: "Juniors",
        material: "Cotton"
 },
    {
        _id: "ag",
        name: "Men Tapered Fit Flat-Front Trousers",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 190,
        image: [p_img7],
        category: "Men",
        sizeCategory: "Petite",
        material: "Cotton"
  },
    {
        _id: "ah",
        name: "Men Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 140,
        image: [p_img8],
        category: "Men",
        sizeCategory: "Petite",
        material: "Cotton"
    },
    {
        _id: "ai",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 100,
        image: [p_img9],
        category: "Kids",
        sizeCategory: "Juniors",
        material: "Cotton"
  },
    {
        _id: "aj",
        name: "Men Tapered Fit Flat-Front Trousers",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 110,
        image: [p_img10],
        category: "Men",
        sizeCategory: "Petite",
        material: "Cotton"
  },
    {
        _id: "ak",
        name: "Men Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 120,
        image: [p_img11],
        category: "Men",
        sizeCategory: "Petite",
        material: "Cotton"
 },
    {
        _id: "al",
        name: "Men Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 150,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img12],
        category: "Men",
    },
    {
        _id: "am",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 130,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img13],
        category: "Women",
    },
    {
        _id: "an",
        name: "Boy Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 160,
        sizeCategory: "Juniors",
        material: "Cotton",
        image: [p_img14],
        category: "Kids",

    },
    {
        _id: "ao",
        name: "Men Tapered Fit Flat-Front Trousers",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 140,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img15],
        category: "Men",

    },
    {
        _id: "ap",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 170,
        sizeCategory: "Juniors",
        material: "Cotton",
        image: [p_img16],
        category: "Kids",

    },
    {
        _id: "aq",
        name: "Men Tapered Fit Flat-Front Trousers",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 150,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img17],
        category: "Men",
 
    },
    {
        _id: "ar",
        name: "Boy Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 180,
        sizeCategory: "Juniors",
        material: "Cotton",
        image: [p_img18],
        category: "Kids",

    },
    {
        _id: "as",
        name: "Boy Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 160,
        sizeCategory: "Juniors",
        material: "Cotton",
        image: [p_img19],
        category: "Kids",
    },
    {
        _id: "at",
        name: "Women Palazzo Pants with Waist Belt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 190,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img20],
        category: "Women",
    },
    {
        _id: "au",
        name: "Women Zip-Front Relaxed Fit Jacket",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 170,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img21],
        category: "Women",
    },
    {
        _id: "av",
        name: "Women Palazzo Pants with Waist Belt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 200,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img22],
        category: "Women",
    },
    {
        _id: "aw",
        name: "Boy Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 180,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img23],
        category: "Kids",

    },
    {
        _id: "ax",
        name: "Boy Casaul Slim Fit Polo Shirt",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img24],
        category: "Kids",
    },
    {
        _id: "ay",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 190,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img25],
        category: "Kids",

    },
    {
        _id: "az",
        name: "Women Zip-Front Relaxed Fit Jacket",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 220,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img26],
        category: "Women",
    },
    {
        _id: "ba",
        name: "Kids Fashion Slim Fit Casual",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 200,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img27],
        category: "Kids",

    },
    {
        _id: "bb",
        name: "Men Slim Fit Relaxed Denim Jacket",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 230,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img28],
        category: "Men",
 
    },
    {
        _id: "bc",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Cotton",
        image: [p_img29],
        category: "Women",
    },
    {
        _id: "bd",
        name: "Sexy Plus Size Women Basic Casual Gown",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Plussize",
        material: "Cotton",
        image: [plus1],
        category: "Women",
    },
    {
        _id: "be",
        name: "Bodycon Women Sexy Leather Gown",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Leather",
        image: [leather1],
        category: "Women",
    },
    {
        _id: "bf",
        name: "Plus Size Women Flare Gown",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Plussize",
        material: "Cotton",
        image: [plus2],
        category: "Women",
    },
    {
        _id: "bg",
        name: "Women Leather Fitted Gown",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Leather",
        image: [leather2],
        category: "Women",
    },
    {
        _id: "bh",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Silk",
        image: [silk1],
        category: "Women",
    },
    {
        _id: "bi",
        name: "Silky Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Silk",
        image: [silk2],
        category: "Women",
    },
    {
        _id: "bj",
        name: "Sexy Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Suede",
        image: [suede1],
        category: "Women",
    },
    {
        _id: "bk",
        name: "Suede Women Basic Casual Fitting Top",
        description: "A lightweight, usually knitted, pullover shirt, close-fitting and with a round neckline and short sleeves, worn as an undershirt or outer garment.",
        price: 210,
        sizeCategory: "Petite",
        material: "Suede",
        image: [suede2],
        category: "Women",
    },
];

import { createContext, useState } from "react";

import usePersistedState from "../hooks/usePersistedState";
// import { useNavigate } from "r.eact-router-dom";

export const AuthContext = createContext({
    userID: "",
    email: "",
    accessToken: "",
    isAuthenticated: "",
    changeAuthState: () => null, 
    // logout: () => null,
});

export function AuthContextProvider(props) {
    const [authState, setAuthState] = usePersistedState("auth", {});

    const changeAuthState = (state) => {
        // localStorage.setItem("accessToken", state.accessToken);
        setAuthState(state);
    }

    // const logout = () => {
        // setAuthState({});
        // console.log(authState);
        // const navig = useNavigate();
        // navig("/");
    // }

    const contextData = {
        userID: authState._id,
        email: authState.email,
        accessToken: authState.accessToken,
        isAuthenticated: Boolean(authState.email),
        changeAuthState, 
        // logout
    };

    return (
        <AuthContext.Provider value={contextData}>
            {props.children}
        </AuthContext.Provider>
    )
}



export const ShopContext = createContext();

export function ShopContextProvider({ children }) {
    const [products, setProducts] = useState(data);
    const [categoryFilters, setCategoryFilters] = useState([]);
    const [sizeFilters, setSizeFilters] = useState([]);
    const [materialFilters, setMaterialFilters] = useState([]);
    const [query, setQuery] = useState("");
    // console.log(query);
    const filtered = applyAllFilters();

    function addFilter(e, setter) {
        if (e.target.checked) {
            setter(oldArray => [...oldArray, e.target.value]);
        } else {
            setter(oldArray => oldArray.filter(cat => cat !== e.target.value));
        }
        // console.log(sizeFilters);
    }

    function applyAllFilters() {
        let filteredProducts = [...products];

        if (categoryFilters.length > 0) {
            filteredProducts = filterByCategory(filteredProducts);
        }

        if (sizeFilters.length > 0) {
            filteredProducts = filterBySize(filteredProducts);
        }

        if (materialFilters.length > 0) {
            filteredProducts = filterByMaterial(filteredProducts);
        }

        if (query.length > 0) {
            filteredProducts = filterByQuery(filteredProducts);
        }

        // console.log(filteredProducts);
        return filteredProducts;
    }

    function filterByCategory(products) {
        products = products.filter(p => {
            const isSameCategory = categoryFilters.includes(p.category);
            return isSameCategory;
        });
        return products;
    }

    function filterBySize(products) {
        products = products.filter(p => {
            const isSameSize = sizeFilters.includes(p.sizeCategory);
            return isSameSize;
        });
        return products;
    }

    function filterByMaterial(products) {
        products = products.filter(p => {
            const isSameMaterial = materialFilters.includes(p.material);
            return isSameMaterial;
        });
        return products;
    }

    function filterByQuery(products) {
        products = products.filter(p => (
            p.name.toLowerCase().includes(query.toLowerCase())
        ));
        return products;
    }

    const ctx = {
        filtered,
        addFilter,
        setCategoryFilters,
        setSizeFilters,
        setMaterialFilters,
        setQuery
    }

    return (
        <ShopContext.Provider value={ctx}>
            {children}
        </ShopContext.Provider>
    )
}


export const ShopContext1 = createContext();

export function ShopContextProvider1({ children }) {
    const [products, setProducts] = useState(data);

    const [searchTerm, setSearchTerm] = useState("")

    const updateSearchTerm = (term) => {
        setSearchTerm(term)
    }

    const value = {
        products, 
        searchTerm, 
        updateSearchTerm 
    }

    return (
        <ShopContext1.Provider value={value}>
            {children}
        </ShopContext1.Provider>
    )
}